---
layout: lay_post
title: "Redis运维指南"
date: 2019-09-03
categories: 工具
tags: Redis
author: lvyafei
---

## 0.前言

Redis运维手册

<!--more-->

## 1.连接数优化

使用密码登录Redis

```
redis-cli -a 123456
```

查看配置的最大连接数：

```
CONFIG GET maxclients
//设置最大连接数：
CONFIG set maxclients 10
```

查看当前连接数：

```
info clients
```

查看连接的客户端详情：

```
CLIENT LIST
```

## 2.查看redis命令别名

在配置文件 redis.conf 中查找 "rename-command" 相关的配置

## 3.Redis集群

启动节点：

```
cd /usr/local/redis-4.0.12/src/

./redis-trib.rb create --replicas 1 10.29.185.50:6379 10.29.185.51:6379 10.29.185.52:6379 10.29.185.50:7000 10.29.185.51:7000 10.29.185.52:7000
```

查看集群节点：

```
redis-cli -a 123456 -p 6379 cluster nodes
```

## 4.zset读取与修改

```
//读取zset下key的score
# zscore "intelli.ddd.expire-3" 16579

//减少zset下key的score
# zincrby "intelli.ddd.expire-3" -9840594 16579

//增加zset下key的score
# zincrby "intelli.ddd.expire-3" 10 16579
```